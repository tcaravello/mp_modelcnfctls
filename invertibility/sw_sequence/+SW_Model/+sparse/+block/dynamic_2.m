function [y, T, residual, g1] = dynamic_2(y, x, params, steady_state, sparse_rowval, sparse_colval, sparse_colptr, T)
residual=NaN(10, 1);
  y(36)=params(15)*(y(39)+params(9)*y(57)+(1-params(9))*y(59));
  residual(1)=(y(39))-(params(9)*y(56)+(1-params(9))*y(60));
  residual(2)=(y(56))-(y(60)+y(59)-y(57));
  residual(3)=(y(57))-(y(55)+y(13));
  T(1)=(1-params(14)/(1+params(35)/100))/(params(13)*(1+params(14)/(1+params(35)/100)));
  T(2)=(1/(1+params(6)/100))^(-1)*(1+params(35)/100)^params(13);
  residual(4)=(y(58))-(y(40)*1/T(1)-y(61)+y(89)*(T(2)-(1-params(12)))/T(2)+y(91)*(1-params(12))/T(2));
  T(3)=(1+params(35)/100)^2;
  T(4)=params(11)*T(3);
  T(5)=1-(1-params(12))/(1+params(35)/100);
  residual(5)=(y(46))-(y(13)*(1-T(5))+y(49)*T(5)+y(42)*T(4)*T(5));
  T(6)=params(15)*((1-params(9))/params(9)*(T(2)-(1-params(12)))/(params(9)^params(9)*(1-params(9))^(1-params(9))/(params(15)*(T(2)-(1-params(12)))^params(9)))^(1/(1-params(9))))^(params(9)-1);
  T(7)=(1+params(35)/100)*T(5)*T(6);
  residual(6)=(y(36))-(y(41)+y(48)*(1-params(36)-T(7))+y(49)*T(7)+y(55)*(T(2)-(1-params(12)))*T(6));
  T(8)=params(14)/(1+params(35)/100)/(1+params(14)/(1+params(35)/100));
  T(9)=(params(13)-1)*T(6)*(1-params(9))*1/params(21)/params(9)*(T(2)-(1-params(12)))/(1-params(36)-T(7))/(params(13)*(1+params(14)/(1+params(35)/100)));
  residual(7)=(y(48))-(y(40)+y(15)*T(8)+y(81)*1/(1+params(14)/(1+params(35)/100))+(y(59)-y(92))*T(9)-y(61)*T(1));
  T(10)=1/(1-params(14)/(1+params(35)/100));
  T(11)=params(14)/(1+params(35)/100)/(1-params(14)/(1+params(35)/100));
  residual(8)=(y(60))-(y(59)*params(20)+y(48)*T(10)-y(15)*T(11));
  residual(9)=(y(55))-(y(56)*1/(params(10)/(1-params(10))));
  T(12)=(1+params(35)/100)*1/(1+params(6)/100)*(1+params(35)/100)^(-params(13));
  residual(10)=(y(49))-(y(42)+1/(1+T(12))*(y(58)*1/T(4)+y(16)+y(82)*T(12)));
if nargout > 3
    g1_v = NaN(37, 1);
g1_v(1)=(-1);
g1_v(2)=(-(1-T(5)));
g1_v(3)=(-(1/(1+T(12))));
g1_v(4)=(-T(8));
g1_v(5)=T(11);
g1_v(6)=(-(1-params(9)));
g1_v(7)=(-1);
g1_v(8)=1;
g1_v(9)=1;
g1_v(10)=1;
g1_v(11)=params(15)*params(9);
g1_v(12)=(-1);
g1_v(13)=(-((T(2)-(1-params(12)))*T(6)));
g1_v(14)=1;
g1_v(15)=1;
g1_v(16)=T(1);
g1_v(17)=1;
g1_v(18)=(-T(5));
g1_v(19)=(-T(7));
g1_v(20)=1;
g1_v(21)=(-(1-params(36)-T(7)));
g1_v(22)=1;
g1_v(23)=(-T(10));
g1_v(24)=(-1);
g1_v(25)=params(15)*(1-params(9));
g1_v(26)=(-T(9));
g1_v(27)=(-params(20));
g1_v(28)=(-params(9));
g1_v(29)=1;
g1_v(30)=(-(1/(params(10)/(1-params(10)))));
g1_v(31)=1;
g1_v(32)=(-(1/T(4)*1/(1+T(12))));
g1_v(33)=(-(T(12)*1/(1+T(12))));
g1_v(34)=(-(1/(1+params(14)/(1+params(35)/100))));
g1_v(35)=T(9);
g1_v(36)=(-((T(2)-(1-params(12)))/T(2)));
g1_v(37)=(-((1-params(12))/T(2)));
    if ~isoctave && matlab_ver_less_than('9.8')
        sparse_rowval = double(sparse_rowval);
        sparse_colval = double(sparse_colval);
    end
    g1 = sparse(sparse_rowval, sparse_colval, g1_v, 10, 30);
end
end
